# Wu Xing (Five Elements) — Visual Examples

## The Five Elements Cycles

### Generating Cycle (Sheng 生) — Supportive ✅

```
     Wood
      ↓
     Fire
      ↓
    Earth
      ↓
    Metal
      ↓
    Water
      ↓
   (Wood)
```

**Meaning**: One element nourishes/creates the next
- Wood feeds Fire
- Fire creates Earth (ash)
- Earth produces Metal (minerals)
- Metal collects Water (condensation)
- Water nourishes Wood (plants)

### Controlling Cycle (Ke 克) — Clashing ⚠️

```
Wood → Earth → Water → Fire → Metal → (Wood)
```

**Meaning**: One element controls/restrains the other
- Wood parts Earth (roots break soil)
- Earth absorbs Water (dams)
- Water extinguishes Fire
- Fire melts Metal
- Metal cuts Wood

---

## Real Match Examples

### Example 1: Metal Monkey × Water Goat

**Year Elements:**
- User A: 1980 (Metal)
- User B: 1991 (Water)

**Relationship:** Metal → Water (Generating cycle)

**Output:**
```
"Metal Monkey × Water Goat — Elemental harmony: Supportive (Metal generates Water)."
```

**Interpretation:** Highly supportive. Metal condenses/collects Water in nature. User A's Metal energy naturally supports and nourishes User B's Water energy. This creates a harmonious elemental foundation for the relationship.

---

### Example 2: Fire Horse × Fire Tiger

**Year Elements:**
- User A: 1966 (Fire)
- User B: 1986 (Fire)

**Relationship:** Same element

**Output:**
```
"Fire Horse × Fire Tiger — Elemental harmony: Same element, double Fire."
```

**Interpretation:** Both share the same elemental nature. Double Fire means high energy, passion, and intensity. They understand each other's temperament naturally but need to manage their combined intensity.

---

### Example 3: Water Rat × Earth Ox

**Year Elements:**
- User A: 1972 (Water)
- User B: 1973 (Earth)

**Relationship:** Earth → Water (Controlling cycle)

**Output:**
```
"Water Rat × Earth Ox — Elemental tension: Clashing elements, extra patience needed."
```

**Interpretation:** Challenging combination. Earth absorbs/contains Water in nature. This can create friction as User B's Earth energy may feel restrictive or dampening to User A's Water energy. Requires conscious effort and patience to navigate the natural tension.

---

### Example 4: Wood Dragon × Metal Snake

**Year Elements:**
- User A: 1964 (Wood)
- User B: 1961 (Metal)

**Relationship:** Metal → Wood (Controlling cycle)

**Output:**
```
"Wood Dragon × Metal Snake — Elemental tension: Clashing elements, extra patience needed."
```

**Interpretation:** Metal cuts Wood in the controlling cycle. User B's Metal energy may feel too sharp or critical to User A's Wood energy. Needs awareness and softening to avoid User B inadvertently "cutting down" User A's growth.

---

### Example 5: Wood Tiger × Air Element mismatch

**Year Elements:**
- User A: 1974 (Wood)
- User B: 1977 (Fire)

**Relationship:** Wood → Fire (Generating cycle)

**Output:**
```
"Wood Tiger × Fire Snake — Elemental harmony: Supportive (Wood generates Fire)."
```

**Interpretation:** Excellent support flow. Wood feeds Fire in nature. User A's Wood energy naturally fuels and supports User B's Fire energy. User A helps User B shine brighter, creating a mutually beneficial dynamic.

---

### Example 6: Earth Dog × Water Pig

**Year Elements:**
- User A: 1958 (Earth)
- User B: 1983 (Water)

**Relationship:** Earth → Water (Controlling cycle)

**Output:**
```
"Earth Dog × Water Pig — Elemental tension: Clashing elements, extra patience needed."
```

**Interpretation:** Earth dams/absorbs Water. User A's grounding Earth energy may feel restrictive or limiting to User B's flowing Water nature. Requires compromise: Earth needs to allow Water to flow, and Water needs to appreciate Earth's stability.

---

### Example 7: Fire Rooster × Wood Rabbit

**Year Elements:**
- User A: 1957 (Fire)
- User B: 1963 (Water) — Wait, let me recalculate...
- User B: 1963 → Last digit is 3 → Water

Actually, let me fix this:
- User B: 1975 (Wood)

**Relationship:** Wood → Fire (Generating cycle)

**Output:**
```
"Wood Rabbit × Fire Rooster — Elemental harmony: Supportive (Wood generates Fire)."
```

**Interpretation:** Wood feeds Fire. User B's Wood energy naturally supports User A's Fire energy, creating a nourishing dynamic where User B helps User A's passions and vitality grow.

---

## Year Element Quick Reference

| Birth Year | Last Digit | Element |
|------------|-----------|---------|
| 1960, 1970, 1980, 1990, 2000 | 0 | **Metal** |
| 1961, 1971, 1981, 1991, 2001 | 1 | **Metal** |
| 1962, 1972, 1982, 1992, 2002 | 2 | **Water** |
| 1963, 1973, 1983, 1993, 2003 | 3 | **Water** |
| 1964, 1974, 1984, 1994, 2004 | 4 | **Wood** |
| 1965, 1975, 1985, 1995, 2005 | 5 | **Wood** |
| 1966, 1976, 1986, 1996, 2006 | 6 | **Fire** |
| 1967, 1977, 1987, 1997, 2007 | 7 | **Fire** |
| 1968, 1978, 1988, 1998, 2008 | 8 | **Earth** |
| 1969, 1979, 1989, 1999, 2009 | 9 | **Earth** |

---

## Relationship Summary Matrix

| Element A | Element B | Relationship | Message Type |
|-----------|-----------|--------------|--------------|
| Wood | Wood | Same | Same element harmony |
| Wood | Fire | Wood → Fire | Supportive (generating) |
| Wood | Earth | Wood → Earth | Clashing (controlling) |
| Wood | Metal | Metal → Wood | Clashing (controlling) |
| Wood | Water | Water → Wood | Supportive (generating) |
| Fire | Fire | Same | Same element harmony |
| Fire | Earth | Fire → Earth | Supportive (generating) |
| Fire | Metal | Fire → Metal | Clashing (controlling) |
| Fire | Water | Water → Fire | Clashing (controlling) |
| Fire | Wood | Wood → Fire | Supportive (generating) |
| Earth | Earth | Same | Same element harmony |
| Earth | Metal | Earth → Metal | Supportive (generating) |
| Earth | Water | Earth → Water | Clashing (controlling) |
| Earth | Wood | Wood → Earth | Clashing (controlling) |
| Earth | Fire | Fire → Earth | Supportive (generating) |
| Metal | Metal | Same | Same element harmony |
| Metal | Water | Metal → Water | Supportive (generating) |
| Metal | Wood | Metal → Wood | Clashing (controlling) |
| Metal | Fire | Fire → Metal | Clashing (controlling) |
| Metal | Earth | Earth → Metal | Supportive (generating) |
| Water | Water | Same | Same element harmony |
| Water | Wood | Water → Wood | Supportive (generating) |
| Water | Fire | Water → Fire | Clashing (controlling) |
| Water | Earth | Earth → Water | Clashing (controlling) |
| Water | Metal | Metal → Water | Supportive (generating) |

---

## UI Behavior

### Before Clicking Toggle

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
│ Monkey × Goat — Cross trine, no     │
│ classical San He / Liu He pattern   │
│                                      │
│ Aquarius × Leo — Air fans Fire,     │
│ lively and stimulating (opposites)  │
│                                      │
│ [五] Show year elements ▼            │
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### After Clicking Toggle

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
│ Monkey × Goat — Cross trine, no     │
│ classical San He / Liu He pattern   │
│                                      │
│ Aquarius × Leo — Air fans Fire,     │
│ lively and stimulating (opposites)  │
│                                      │
│ [五] Hide year elements ▲            │
│                                      │
│ Metal Monkey × Water Goat —         │
│ Elemental harmony: Supportive       │
│ (Metal generates Water).            │
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## Implementation Notes

### When to Show Wu Xing Line

The Wu Xing toggle **only appears** when:
1. Both users have year element data
2. `wuXingLine` is passed to the component
3. The line has actual content (not null/undefined)

### Graceful Degradation

If year element data is missing:
- `getWuXingLine()` returns `null`
- Toggle button doesn't appear
- Connection Box still works normally with just Chinese + Western lines

### Educational Value

The Wu Xing line serves as:
- **Additional layer** of compatibility insight
- **Educational tool** about Chinese Five Elements
- **Optional detail** that doesn't clutter the main view
- **Conversation starter** about elemental personalities

---

## Technical Implementation

### Getting Year Element from Birth Year

```typescript
function getYearElement(birthYear: number): WuXing {
  const lastDigit = birthYear % 10;
  
  switch (lastDigit) {
    case 0:
    case 1:
      return "Metal";
    case 2:
    case 3:
      return "Water";
    case 4:
    case 5:
      return "Wood";
    case 6:
    case 7:
      return "Fire";
    case 8:
    case 9:
      return "Earth";
    default:
      throw new Error(`Invalid birth year: ${birthYear}`);
  }
}
```

### Complete Usage Example

```typescript
import { buildConnectionLines, type ConnectionContext } from "@/lib/connectionText";
import { getYearElement } from "@/lib/chineseZodiac";

// User A: Born 1980-02-17 (Metal Monkey, Aquarius)
// User B: Born 1991-07-31 (Water Goat, Leo)

const userA = {
  birthYear: 1980,
  chineseAnimal: "Monkey",
  yearElement: getYearElement(1980), // "Metal"
  sunSign: "Aquarius",
  sunElement: "Air",
};

const userB = {
  birthYear: 1991,
  chineseAnimal: "Goat",
  yearElement: getYearElement(1991), // "Water"
  sunSign: "Leo",
  sunElement: "Fire",
};

const ctx: ConnectionContext = {
  westA: { sign: "Aquarius", element: "Air" },
  westB: { sign: "Leo", element: "Fire" },
  chineseA: {
    animal: "Monkey",
    trineName: "Visionaries",
    yearElement: "Metal",
  },
  chineseB: {
    animal: "Goat",
    trineName: "Artists",
    yearElement: "Water",
  },
  chinesePattern: "cross_trine",
  westAspect: "opposition",
};

const lines = buildConnectionLines(ctx);

console.log(lines);
// {
//   chineseLine: "Monkey × Goat — Cross trine, no classical San He / Liu He pattern: mixed tempo, chemistry depends on timing.",
//   westernLine: "Aquarius × Leo — Air fans Fire, lively and stimulating (opposites), high-voltage chemistry.",
//   wuXingLine: "Metal Monkey × Water Goat — Elemental harmony: Supportive (Metal generates Water)."
// }
```

---

## Future Enhancements

Potential additions to the Wu Xing system:

1. **Elemental Balance**: Show if couple has all five elements combined
2. **Yin/Yang Integration**: Combine Wu Xing with Yin/Yang analysis
3. **Deeper Interpretations**: Add more detailed blurbs for each element pair
4. **Strength Indicators**: Show how strong the generating/controlling influence is
5. **Remedies**: Suggest elements to balance clashing combinations

---

**Status:** ✅ Complete and ready for production use

